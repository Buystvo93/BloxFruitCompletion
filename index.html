<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Blox Fruits Tracker</title>
  <style>
    body { font-family: Arial, sans-serif; background:#0c0c0c; color:#fff; text-align:center; }
    h1 { color:#ffcc00; }
    .section { background:#1c1c1c; margin:15px auto; padding:15px; border-radius:10px; width:80%; max-width:500px; text-align:left; }
    .progress-container { width:80%; margin:20px auto; background:#333; border-radius:10px; }
    .progress-bar { height:25px; width:0; background:linear-gradient(90deg,#ffcc00,#ffaa00); transition:width 0.3s; }
  </style>
</head>
<body>
  <h1>Blox Fruits Completion Tracker</h1>

  <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>
  <p id="progressText">0% Completed</p>

  <div class="section">
    <h2>Items</h2>
    <label><input type="checkbox" class="task" value="darkblade"> Dark Blade</label>
    <label><input type="checkbox" class="task" value="saber"> Saber</label>
    <label><input type="checkbox" class="task" value="pole1"> Pole (1st Form)</label>
    <label><input type="checkbox" class="task" value="pole2"> Pole (2nd Form)</label>
  </div>

  <div class="section">
    <h2>Races</h2>
    <label><input type="checkbox" class="task" value="human"> Human</label>
    <label><input type="checkbox" class="task" value="fishman"> Fishman</label>
    <label><input type="checkbox" class="task" value="mink"> Mink</label>
    <label><input type="checkbox" class="task" value="ghoul"> Ghoul</label>
    <label><input type="checkbox" class="task" value="cyborg"> Cyborg</label>
  </div>

  <div class="section">
    <h2>Level</h2>
    <label><input type="checkbox" class="task" value="maxlevel"> Reached Level 2550 (Max)</label>
  </div>

<script>
const STORAGE_KEY = "bloxfruits_progress";
let currentData = {};

// Load saved progress from localStorage
function loadProgress() {
  const saved = localStorage.getItem(STORAGE_KEY);
  if (saved) currentData = JSON.parse(saved);

  document.querySelectorAll(".task").forEach(chk => {
    chk.checked = currentData[chk.value] || false;
    chk.onchange = saveProgress;
  });
  updateProgress();
}

// Save progress to localStorage
function saveProgress() {
  document.querySelectorAll(".task").forEach(chk => {
    currentData[chk.value] = chk.checked;
  });
  localStorage.setItem(STORAGE_KEY, JSON.stringify(currentData));
  updateProgress();
}

// Update progress bar + text
function updateProgress() {
  const tasks = document.querySelectorAll('.task');
  const completed = document.querySelectorAll('.task:checked').length;
  const percent = Math.round((completed / tasks.length) * 100);
  document.getElementById("progressBar").style.width = percent + "%";
  document.getElementById("progressText").textContent = percent + "% Completed";
}

// Init
loadProgress();
</script>
</body>
</html>
